{% sw_extends '@Storefront/storefront/layout/navigation/offcanvas/item-link.html.twig' %}
{% block layout_navigation_offcanvas_navigation_categories_list_category_item_link %}
    {% set url = category_url(item.category) %}
    <div class="gaisbock-category-accordion accordion accordion-flush" id="gaisbockAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="gaisbock-heading">
                <a href="{{ url }}" itemprop="url">{{ item.category.name }}</a>
                <span class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                     data-bs-target="#gaisbockCollapse{{ item.category.id }}" aria-expanded="false"
                     aria-controls="gaisbockCollapse{{ item.category.id }}">
                </span>
            </h2>
            <div id="gaisbockCollapse{{ item.category.id }}" class="accordion-collapse collapse"
                 aria-labelledby="gaisbock-heading" data-bs-parent="#gaisbockAccordion">
                <div class="accordion-body">
                    {% for children in item.children %}
                        <div class="gaisbock-accordion-content">
                            <a href="{{ category_url(children.category) }}" class="d-flex gaisbock-sub-category">
                                {% if children.category.media.url %}
                                    <img src="{{ children.category.media.url }}" alt="category image">
                                {% endif %}
                                <div>{{ children.category.name }}</div>
                            </a>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}