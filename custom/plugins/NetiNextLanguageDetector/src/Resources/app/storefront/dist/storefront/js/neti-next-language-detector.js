"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["neti-next-language-detector"],{2674:(e,t,n)=>{var a=n(6285),c=n(7606),g=n(8254),i=n(378);class r extends a.Z{init(){this.httpClient=new g.Z,this.setCookie=!0,this.checkLanguage(),this.targetLanguage=null,this.languages={}}checkLanguage(){if("redirect-accepted"===c.Z.getItem("language-detector-redirect")||"redirect-declined"===c.Z.getItem("language-detector-redirect"))return;const e=this.httpClient.get(window.router["frontend.language_detector.check_language"],(t=>{if(200===e.status){if(t=JSON.parse(t),this.setCookie=t.setCookie,!t.success)return;this.processResponse(t.data,t.html)}}))}processResponse(e,t){this.targetLanguage=e.targetLanguage,this.languages=e.languages,new i.Z(t).open(),this.registerEvents()}registerEvents(){const e=document.getElementById("languageDetectorDecline"),t=document.getElementById("languageDetectorAccept");e.addEventListener("click",this.onLanguageDetectorDecline.bind(this)),t.addEventListener("click",this.onLanguageDetectorAccept.bind(this));Object.values(this.languages).forEach((e=>{document.getElementById("languageDetectorLang-"+e.id).addEventListener("click",this.onLanguageDetectorSwitch.bind(this))}))}onLanguageDetectorDecline(){this.setCookie&&c.Z.setItem("language-detector-redirect","redirect-declined")}onLanguageDetectorAccept(){this.setCookie&&c.Z.setItem("language-detector-redirect","redirect-accepted")}onLanguageDetectorSwitch(e){const t=e.target.value,n=this.languages[t];document.querySelector(".neti-language-detector-title").innerHTML=n.headline,document.querySelector(".neti-language-detector-text").innerHTML=n.text,document.getElementById("languageDetectorAccept").innerHTML=n.buttonAccept,document.getElementById("languageDetectorDecline").innerHTML=n.buttonDecline,document.getElementById("ld-modal-lang-name").innerHTML=n.name;let a=n.locale.split("-"),c="country-"+a[0],g="language-"+a[1],i=document.getElementById("ld-modal-lang-flag").classList;i.remove(i[2],i[3]),i.add(c,g)}}window.PluginManager.register("LanguageDetectorPlugin",r,"body")}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=2674,e(e.s=t);var t}));e.O()}]);