"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["acris-suggested-products"],{9916:(e,t,i)=>{var n=i(6285),s=i(8254),r=i(7606);const o="acris-suggested-recentlyViewed";class c extends n.Z{init(){this._client=new s.Z(window.accessKey,window.contextToken);const e=r.Z.getItem("acris_recently_viewed");if(e){const t=e.split("|");1===t.length&&"1"===t[0]||2===t.length&&"1"===t[0]&&t[1]===this.options.id?this.addCookiesAfterRender(e):this.options.id&&this._client.post(this.options.url,JSON.stringify({productId:this.options.id,config:this.options.sliderConfig}),(t=>{t&&(this.renderResponse(t),this.showResponse()),this.addCookiesAfterRender(e)}))}}renderResponse(e){document.querySelector(this.options.recentlyViewedContainerSelector).insertAdjacentHTML("beforeend",e),window.PluginManager.initializePlugins(),this.$emitter.publish("RecentlyView/afterRenderResponse",{response:e})}showResponse(){const e=document.getElementById(o),t=document.getElementById("recently-viewed-products-container");e&&t&&(e.classList.remove("d-none"),t.classList.remove("d-none"),this.isRecentlyViewedFirst()&&this.activateRecentlyViewedTab())}initiateCookie(){r.Z.setItem("acris_recently_viewed",this.options.id,this.options.recentlyViewedDuration)}addCookiesAfterRender(e){const t=this.adjustCookieToMaxLimit(e);let i="";if(t.includes(this.options.id)){const e=t.replace(this.options.id+"|","");i=this.options.id=this.options.id+"|"+e}else i=this.options.id+"|"+t;i&&r.Z.setItem("acris_recently_viewed",i,this.options.recentlyViewedDuration)}adjustCookieToMaxLimit(e){const t=e.split("|");if(t.length>=this.options.recentlyViewedItemLimit){return t.slice(1-this.options.recentlyViewedItemLimit).join("|")}return e}isRecentlyViewedFirst(){const e=document.getElementById(o);return!!e&&e.classList.contains("recentlyViewedIsFirst")}activateRecentlyViewedTab(){const e=document.getElementById("cs-recentlyViewed-tab");e&&e.click()}}var d,l,a;d=c,a={id:"",url:"",recentlyViewedContainerSelector:".recently-viewed-products-container",recentlyViewedItemLimit:7,recentlyViewedDuration:365,sliderConfig:[]},(l=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(l="options"))in d?Object.defineProperty(d,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):d[l]=a;class u extends n.Z{init(){r.Z.getItem("acris_customers_also_viewed")&&r.Z.setItem("acris_customers_also_viewed",this.options.id,30)}}!function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(u,"options",{id:"",cookieLimit:5}),window.PluginManager.register("AcrisRecentlyViewedPlugin",c,"[data-acris-recently-viewed-plugin]"),window.PluginManager.register("AcrisCustomersAlsoViewedPlugin",u,"[data-acris-customers-also-viewed-plugin]")}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=9916,e(e.s=t);var t}));e.O()}]);