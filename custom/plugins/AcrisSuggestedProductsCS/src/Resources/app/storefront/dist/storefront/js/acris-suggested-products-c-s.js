"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["acris-suggested-products"],{9916:(e,t,i)=>{var o=i(6285),n=i(8254),s=i(7606),r=i(7474);const d="acris-suggested-recentlyViewed";class l extends o.Z{init(){this._client=new n.Z(window.accessKey,window.contextToken);const e=s.Z.getItem("acris_recently_viewed");if(e){const t=e.split("|");1===t.length&&"1"===t[0]||2===t.length&&"1"===t[0]&&t[1]===this.options.id?this.addCookiesAfterRender(e):this.options.id&&this._client.post(this.options.url,JSON.stringify({productId:this.options.id,config:this.options.sliderConfig}),(t=>{t&&(this.renderResponse(t),this.showResponse()),this.addCookiesAfterRender(e)}))}}renderResponse(e){document.querySelector(this.options.recentlyViewedContainerSelector).insertAdjacentHTML("beforeend",e),window.PluginManager.initializePlugins(),this.$emitter.publish("RecentlyView/afterRenderResponse",{response:e})}showResponse(){const e=document.getElementById(d),t=document.getElementById("recently-viewed-products-container");e&&t&&(e.classList.remove("d-none"),t.classList.remove("d-none"),(this.isRecentlyViewedFirst()||"XS"===r.Z.getCurrentViewport()&&"among"===this.options.displayModeMobile||"SM"===r.Z.getCurrentViewport()&&"among"===this.options.displayModeMobile||"MD"===r.Z.getCurrentViewport()&&"among"===this.options.displayModeTablet||"LG"===r.Z.getCurrentViewport()&&"among"===this.options.displayModeTablet||"XL"===r.Z.getCurrentViewport()&&"among"===this.options.displayModeDesktop||"XXL"===r.Z.getCurrentViewport()&&"among"===this.options.displayModeDesktop)&&this.activateRecentlyViewedTab())}rebuildSlider(){DomAccess.querySelector(correspondingContent,this.options.productSliderSelector,!1)}initiateCookie(){s.Z.setItem("acris_recently_viewed",this.options.id,this.options.recentlyViewedDuration)}addCookiesAfterRender(e){const t=this.adjustCookieToMaxLimit(e);let i="";if(t.includes(this.options.id)){const e=t.replace(this.options.id+"|","");i=this.options.id=this.options.id+"|"+e}else i=this.options.id+"|"+t;i&&s.Z.setItem("acris_recently_viewed",i,this.options.recentlyViewedDuration)}adjustCookieToMaxLimit(e){const t=e.split("|");if(t.length>=this.options.recentlyViewedItemLimit){return t.slice(1-this.options.recentlyViewedItemLimit).join("|")}return e}isRecentlyViewedFirst(){const e=document.getElementById(d);return!!e&&e.classList.contains("recentlyViewedIsFirst")}activateRecentlyViewedTab(){const e=document.getElementById("cs-recentlyViewed-tab");e&&e.click()}}var c,a,u;c=l,u={id:"",url:"",recentlyViewedContainerSelector:".recently-viewed-products-container",recentlyViewedItemLimit:7,recentlyViewedDuration:365,productSliderSelector:'[data-product-slider="true"]',sliderConfig:[],displayModeDesktop:"",displayModeTablet:"",displayModeMobile:""},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a="options"))in c?Object.defineProperty(c,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[a]=u;class p extends o.Z{init(){s.Z.getItem("acris_customers_also_viewed")&&s.Z.setItem("acris_customers_also_viewed",this.options.id,30)}}!function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(p,"options",{id:"",cookieLimit:5}),window.PluginManager.register("AcrisRecentlyViewedPlugin",l,"[data-acris-recently-viewed-plugin]"),window.PluginManager.register("AcrisCustomersAlsoViewedPlugin",p,"[data-acris-customers-also-viewed-plugin]")}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=9916,e(e.s=t);var t}));e.O()}]);